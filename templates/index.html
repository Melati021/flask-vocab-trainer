<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>èƒŒå•è¯ Â· æŠ—é—å¿˜å¤ä¹ </title>
    <style>
        body { font-family: sans-serif; padding: 2em; background: #f6f6f6; }
        h2 { margin-top: 2em; }
        form { margin-bottom: 1.5em; }
        .word-box { padding: 0.5em; margin: 0.5em 0; background: white; border-radius: 5px; box-shadow: 0 0 3px rgba(0,0,0,0.1); }
        .stats { margin-top: 2em; padding: 1em; background: #fffbe6; border: 1px solid #ffd666; border-radius: 5px; }
    </style>
</head>
<body>
    <h1>ğŸ“˜ é©¬è…¾å®‡æŠ—é—å¿˜å¤ä¹ </h1>

    {% if message %}<p><strong>{{ message }}</strong></p>{% endif %}

    <h2>â• æ·»åŠ æ–°å•è¯</h2>
    <form method="POST">
        <input type="text" name="new_word" placeholder="è‹±æ–‡" required>
        <input type="text" name="meaning" placeholder="ä¸­æ–‡é‡Šä¹‰" required>
        <button type="submit">æ·»åŠ </button>
    </form>

    <h2>ğŸ• å¾…å¤ä¹ å•è¯</h2>
    {% if review_words %}
        {% for word, info in review_words %}
        <div class="word-box">
            <form method="POST">
                <strong>{{ word }}</strong> - {{ info.meaning }}<br>
                ï¼ˆè®°å½•äº {{ info.start_date }}ï¼‰<br>
                <input type="hidden" name="review_action" value="{{ word }}">
                <label><input type="radio" name="action_{{ word }}" value="yes" required> è®°ä½</label>
                <label><input type="radio" name="action_{{ word }}" value="no"> æ²¡è®°ä½</label>
                <button type="submit">æäº¤</button>
            </form>
        </div>
        {% endfor %}
    {% else %}
        <p>ğŸ‰ ä»Šå¤©æ²¡æœ‰éœ€è¦å¤ä¹ çš„å•è¯ï¼</p>
    {% endif %}

    <h2>ğŸ“‰ é”™è¯¯æ€»ç»“</h2>
    {% if errors %}
        <ul>
        {% for word, info in errors %}
            <li>{{ word }} - {{ info.meaning }}ï¼ˆè®°å½•äº {{ info.start_date }}ï¼‰</li>
        {% endfor %}
        </ul>
    {% else %}
        <p>æš‚æ— é”™è¯¯è®°å½•ã€‚</p>
    {% endif %}

    <div class="stats">
        <strong>å¤ä¹ è¿›åº¦ï¼š</strong><br>
        æ€»è¯æ•°ï¼š{{ stats.total }}ï¼Œ
        å·²å®Œæˆï¼š{{ stats.completed }}ï¼Œ
        é”™è¯ï¼š{{ stats.errors }}ï¼Œ
        å¾…å¤ä¹ ï¼š{{ stats.pending }}
    </div>
</body>
</html>
